<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гадание по имени и фамилии</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f0f0f0;
        }
        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 90%;
            margin-bottom: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        input[type="text"] {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .number {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            color: #333;
        }
        .description {
            margin-top: 10px;
            font-size: 16px;
            color: #555;
        }
        .calculation-details {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .calculation-details pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .fade {
    opacity: 0;
    animation: fadeIn 1s forwards;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Гадание по имени и фамилии</h1>
        <form id="form">
            <label for="fullName">Введите имя и фамилию:</label>
            <input type="text" id="fullName" name="fullName" required>
            <button type="button" onclick="calculate()">Рассчитать</button>
        </form>
        <div id="result">
            <div class="number"></div>
            <div class="description"></div>
        </div>
    </div>
    <div class="container calculation-details">
        <h2>Детали расчета</h2>
        <pre id="calculation"></pre>
    </div>

    <script>
        const letterValues = {
            'А': 1, 'Б': 2, 'В': 3, 'Г': 4, 'Д': 5, 'Е': 6, 'Ё': 6, 'Ж': 7, 'З': 8, 'И': 9, 'Й': 9, 'К': 10, 'Л': 20, 'М': 30,
            'Н': 40, 'О': 50, 'П': 60, 'Р': 70, 'С': 80, 'Т': 90, 'У': 100, 'Ф': 200, 'Х': 300, 'Ц': 400, 'Ч': 500, 'Ш': 600,
            'Щ': 700, 'Ы': 9, 'Э': 6, 'Ю': 800, 'Я': 900
        };

        const shortTable = {
            1: 'Страсть, честолюбие, жадность, неукротимость.',
            2: 'Разрушение, несчастный случай, трагедия.',
            3: 'Религия, предназначение, прелесть и очарование.',
            4: 'Мудрость, жизненный опыт, могущество, нерадение.',
            5: 'Счастье, мужество, честь, достоинство.',
            6: 'Удача, освобождение, труд.',
            7: 'Несовершенство, бедность, покушение, слабость.',
            8: 'Справедливость, величие, самообладание, достоинство.',
            9: 'Свободолюбие',
            10: 'Совершенство, рассудок, гармония души и тела, будущее счастье, закон и законность.',
            11: 'Раздор, противозаконие, преступление.',
            12: 'Любовь к жизни, спокойствие, свобода, девственность, целомудрие, мудрость.',
            13: 'Хорошее предзнаменование, божественное, дьявольский знак (подарок), судьбоносный знак.',
            14: 'Жертва, очищение, искупление.',
            15: 'Решительное действие, проступок, несчастье, беда.',
            18: 'Твердость, непреклонность, жесткость.',
            19: 'Слабость духа или характера, неуверенность, мягкость.',
            20: 'Строгость, холодность, печаль.',
            21: 'Симпатия, человеколюбие, доброта.',
            22: 'Тайна, таинственность, мудрость, скрытый смысл, тревога.',
            23: 'Бич Божий, небесное наказание, проклятие.',
            24: 'Стремление к добру, правде, справедливости и всему хорошему, правдоискательство.',
            25: 'Знание, знатность, высокое положение.',
            26: 'Полезный труд.',
            27: 'Твердость, мужество, сила духа.',
            28: 'Удача в любви, сексуальность.',
            29: 'Ничтожность помыслов, бестолковость, суетность, неумение.',
            30: 'Слава, удачный брак или желание соединиться с любимой особой, страсть.',
            31: 'Славолюбие, добродетель, порядочность.',
            32: 'Брак, целомудрие, постоянство, верность.',
            33: 'Чистота, знатность, высокое происхождение.',
            34: 'Страдание, болезнь духа, сомнение, неверие.',
            35: 'Гармония, здоровье, совершенство духа, тела.',
            36: 'Обширные способности: высший взгляд, относящийся к духовному миру имирозданию, философ, служитель культа.',
            37: 'Кротость, супружеское согласие и любовь.',
            38: 'Неудача, несовершенство души и тела.',
            39: 'Недостаток материальных физических средств.',
            40: 'Слабость душевных сил и твердость в достижении душевных удовольствий.',
            41: 'Дурное состояние духа, леность, скука.',
            42: 'Деятельность, любовь к переменам и путешествиям, приключения.',
            43: 'Духовное знание и признание. Религиозная обрядность, священнослужитель.',
            44: 'Великолепие, энергия, величие.',
            45: 'Заточение, быстрая потеря юности, трудное детство и юность.',
            46: 'Население, плодородие, большая семья.',
            47: 'Долгая и счастливая жизнь, душевное равновесие.',
            48: 'Право, приговор, судья, закон.',
            49: 'Ничтожность, пустота, неудача.',
            50: 'Прощение, освобождение, раскрепощение.',
            60: 'Вдовство, неудачный брак, одиночество в браке.',
            70: 'Наука, опыт, мужество, сила знаний.',
            73: 'Любовь и естественность, непосредственность, природа, знание.',
            75: 'Чувствительность, восприимчивость.',
            77: 'Прощение, раскаяние, милость, милосердие.',
            80: 'Спасение, прощение, озарение.',
            87: 'Верующий, верящий, доверяющий.',
            90: 'Ослепление, раскаяние, возбуждение, успокоение, наказание.',
            100: 'Политическая доброжелательность, умение пользоваться выгодами и выбирать для себя лучшее, хороший вкус.',
            120: 'Любовь к Богу, наблюдательность, любовь к Отечеству, вера и верность.',
            150: 'Позвала, заслуга, награда.',
            200: 'Сомнения, нерешительность, робость.',
            300: 'Спасение, убеждение, вера, философия.',
            315: 'Зло, вред для окружающих или самого себя.',
            318: 'Хорошие известия, предзнаменования.',
            350: 'Надежда, справедливость, вера, любовь.',
            360: 'Общественность, коммуникабельность.',
            365: 'Тяжелое и долгое путешествие, трудности на пути к цели.',
            400: 'Астрология, умозрительность, философичность.',
            409: 'Священство, богословие, вера.',
            500: 'Любовь к людям, природе, жизнелюбие.',
            600: 'Успех, удача, счастливый случай, фортуна.',
            666: 'Мятежность, вражда, враг, тяжкое преступление.',
            700: 'Сила, владычество.',
            800: 'Государство, катастрофа, революция, возрождение.',
            900: 'Война, битва, кровавая ссора.',
            1000: 'Доброта, характер, сила воли. Стойкость.',
            1095: 'Таинственность, молчание, молчаливость, многозначительность.',
            1260: 'Духовные муки, физические страдания, мучение.',
            1390: 'Преследование.'
        };

        document.getElementById('fullName').addEventListener('input', calculate);

function calculate() {
    const fullName = this.value.toUpperCase().replace(/[^А-ЯЁ]/g, '');
    let total = 0;
    let digits = [];
    let calculations = ''; // Для хранения деталей расчетов
    for (let letter of fullName) {
        if (letter in letterValues) {
            total += letterValues[letter];
            digits.push(letterValues[letter]);
            calculations += `${letter} (${letterValues[letter]}) + <br>`; // добавляем <br> для перехода на новую строку
        }
    }
    calculations = calculations.slice(0, -4); // Удаляем последний плюс и пробел

    const result = total;
    let description = '';

    // Разделить результат на компоненты, если значение отсутствует в таблице
    if (!(result in shortTable)) {
        let tempResult = result;
        let components = [];
        const keys = Object.keys(shortTable).map(Number).sort((a, b) => b - a);
        for (let key of keys) {
            while (tempResult >= key) {
                components.push(key);
                tempResult -= key;
            }
        }
        for (let component of components) {
            description += `${component} - ${shortTable[component]}<br>`; // добавляем <br> для перехода на новую строку
        }
        // Суммировать цифры результата и получить соответствующее значение
        const sumOfDigits = result.toString().split('').map(Number).reduce((a, b) => a + b, 0);
        if (sumOfDigits in shortTable) {
            description += `${sumOfDigits} - ${shortTable[sumOfDigits]}`;
        }
    } else {
        description = `${result} - ${shortTable[result]}`;
    }

    // Вывод результата
document.querySelector('.number').innerHTML = `<span class="fade">${result}</span><br><br>`;
document.querySelector('.description').innerHTML = `<span class="fade">${description}</span>`;
document.getElementById('calculation').innerHTML = `Расчет: <br><span class="fade">${calculations}</span> = <span class="fade">${result}</span>`;
}
    </script>
</body>
</html>